require_relative '../vagrant/vagrant_utilities'

Vagrant.configure('2') do |config|
  config.vm.box = 'ubuntu/bionic64'
  config.vm.network 'private_network', ip: '192.168.8.8'
  config.vm.hostname = 'microk8s.local'

  config.vm.provider 'virtualbox' do |vb|
    vb.cpus = '4'
    vb.memory = '2048'
  end

  config.vm.provision :shell, inline: 'snap install --classic --channel 1.13/candidate microk8s; snap alias microk8s.kubectl kubectl; microk8s.start; microk8s.enable dashboard'
end
